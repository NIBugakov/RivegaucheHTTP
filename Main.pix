<?xml version="1.0" encoding="utf-8"?>
<Script xmlns:i="http://www.w3.org/2001/XMLSchema-instance" z:Id="i1" xmlns:z="http://schemas.microsoft.com/2003/10/Serialization/" xmlns="http://schemas.datacontract.org/2004/07/BR.Logic">
  <CompilationType>CSharp</CompilationType>
  <Description i:nil="true" />
  <Id>2ecb7c09-88a6-4261-bb71-b7143e555584</Id>
  <Logic z:Id="i2" i:type="ExecutedStep">
    <Childs>
      <AbstractStep z:Id="i3" i:type="CommentStep">
        <Childs />
        <Id>127aab13-1b36-4a6a-a6b0-7b5269999360</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Описание проекта:
Проект был создан для получения с сайта https://rivegauche.ru/ данных о продукции соответсвующие заранее определенным критериям (бренд/дата) ; получение данных происходит с помощью http запросоов ; выгрузка проиходит в базу данных sql</Text>
      </AbstractStep>
      <AbstractStep z:Id="i4" i:type="CommentStep">
        <Childs />
        <Id>2a6d7f0c-7a0f-4ccd-9aea-1aec044acc5d</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>⠸⣷⣦⠤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣠⣤⠀⠀⠀
⠀⠙⣿⡄⠈⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠔⠊⠉⣿⡿⠁⠀⠀⠀
⠀⠀⠈⠣⡀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠁⠀⠀⣰⠟⠀⠀⠀⣀⣀
⠀⠀⠀⠀⠈⠢⣄⠀⡈⠒⠊⠉⠁⠀⠈⠉⠑⠚⠀⠀⣀⠔⢊⣠⠤⠒⠊⠉⠀⡜
⠀⠀⠀⠀⠀⠀⠀⡽⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠩⡔⠊⠁⠀⠀⠀⠀⠀⠀⠇
⠀⠀⠀⠀⠀⠀⠀⡇⢠⡤⢄⠀⠀⠀⠀⠀⡠⢤⣄⠀⡇⠀⠀⠀⠀⠀⠀⠀⢰⠀
⠀⠀⠀⠀⠀⠀⢀⠇⠹⠿⠟⠀⠀⠤⠀⠀⠻⠿⠟⠀⣇⠀⠀⡀⠠⠄⠒⠊⠁⠀
⠀⠀⠀⠀⠀⠀⢸⣿⣿⡆⠀⠰⠤⠖⠦⠴⠀⢀⣶⣿⣿⠀⠙⢄⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢻⣿⠃⠀⠀⠀⠀⠀⠀⠀⠈⠿⡿⠛⢄⠀⠀⠱⣄⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢸⠈⠓⠦⠀⣀⣀⣀⠀⡠⠴⠊⠹⡞⣁⠤⠒⠉⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⣠⠃⠀⠀⠀⠀⡌⠉⠉⡤⠀⠀⠀⠀⢻⠿⠆⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠰⠁⡀⠀⠀⠀⠀⢸⠀⢰⠃⠀⠀⠀⢠⠀⢣⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⢶⣗⠧⡀⢳⠀⠀⠀⠀⢸⣀⣸⠀⠀⠀⢀⡜⠀⣸⢤⣶⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠈⠻⣿⣦⣈⣧⡀⠀⠀⢸⣿⣿⠀⠀⢀⣼⡀⣨⣿⡿⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠈⠻⠿⠿⠓⠄⠤⠘⠉⠙⠤⢀⠾⠿⣿⠟⠋⠀⠀⠀⠀⠀⠀⠀⠀</Text>
      </AbstractStep>
      <AbstractStep z:Id="i5" i:type="CommentStep">
        <Childs />
        <Id>dd763519-a37f-446b-9205-f86c9a606def</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Ошибки</Text>
      </AbstractStep>
      <AbstractStep z:Id="i6" i:type="ExecutedStep">
        <Childs />
        <Id>3efc7b0f-d524-486a-9564-00de85190df3</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i7">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>default(System.Exception)</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i8">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>exc_main</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Хранение ошибки, возникающей во время работы робота</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i9" i:type="ExecutedStep">
        <Childs />
        <Id>788de81d-4e5a-4376-92d8-78c817c62600</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i10">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>false</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i11">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>bool_transactionError</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Одна из транзакций обработана с ошибкой</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i12" i:type="CommentStep">
        <Childs />
        <Id>dae9bcf3-6ae1-487b-a80c-2230b1b931fc</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Словари</Text>
      </AbstractStep>
      <AbstractStep z:Id="i13" i:type="ExecutedStep">
        <Childs />
        <Id>d3e9b83b-f57c-4f7f-9695-b9746f9c3294</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i14">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new Dictionary&lt;string, System.Object&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i15">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dict_config</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Словарь для данных конфигурационного файла, а также любых других значений</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i16" i:type="ExecutedStep">
        <Childs />
        <Id>c61a51af-f41e-44b3-9837-8f5036c74c3f</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i17">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new Dictionary&lt;System.String, System.Security.SecureString&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i18">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dict_secureData</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Словарь для хранения данных учетных записей</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i19" i:type="ExecutedStep">
        <Childs />
        <Id>c16252f4-b56d-4d79-ad29-a551b68afc5c</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i20">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new Dictionary&lt;string, string&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i21">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dict_paths</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Словарь для хранения путей к проектным\созданным папкам</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i22" i:type="CommentStep">
        <Childs />
        <Id>ffa0df3b-b4c9-4956-999d-56cf91bee790</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Транзакции</Text>
      </AbstractStep>
      <AbstractStep z:Id="i23" i:type="ExecutedStep">
        <Childs />
        <Id>dede5bb7-f392-435c-b772-513592290652</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i24">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>0</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i25">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_transCount</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Счетчик количества транзакций, которые были обработаны за один запуск</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i26" i:type="ExecutedStep">
        <Childs />
        <Id>02a7584b-0d1c-4652-92ea-61a5ab25d78c</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i27">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>""</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i28">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>str_transactionID</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>ID транзакции</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i29" i:type="ExecutedStep">
        <Childs />
        <Id>26320a72-e4c2-4929-bb50-638007b86281</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i30">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>""</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i31">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>str_lastTransactionID</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>ID последней транзакции в пуле транзакций</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i32" i:type="ExecutedStep">
        <Childs />
        <Id>c27694ac-2118-400e-8b42-9efd9fc56abc</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i33">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>""</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i34">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>str_transactionItem</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Транзакция</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i35" i:type="ExecutedStep">
        <Childs />
        <Id>272e8ad1-4a87-4f35-8e07-d6f77fac29b8</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i36">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new List&lt;BR.Master.Queues.QueueItemData&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i37">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>list_queueItemData</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Список транзакций очереди</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i38" i:type="CommentStep">
        <Childs />
        <Id>b6b98e1b-3006-46ba-a7f4-29cecad67d07</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Остальное</Text>
      </AbstractStep>
      <AbstractStep z:Id="i39" i:type="ExecutedStep">
        <Childs />
        <Id>6f570490-58d4-41f2-adc6-9c68e129102c</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i40">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>1</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i41">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_state</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Состояние, с которого начинается цикл</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i42" i:type="ExecutedStep">
        <Childs />
        <Id>1c1d8d00-bc28-4ab6-b31a-e1d390fe08de</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i43">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>1</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i44">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_transactionRetryCounter</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Счетчик повторных попыток обработки транзакции</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i45" i:type="ExecutedStep">
        <Childs />
        <Id>421979a3-792a-4894-b527-8513f2b4b6d1</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i46">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>0</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i47">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_consecutiveExceptionCounter</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Счетчик последовательных исключений</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i48" i:type="ExecutedStep">
        <Childs />
        <Id>c1808cf4-5068-4116-baa8-55ddbd5cae30</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i49">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>false</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i50">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>bool_exit</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Флаг выхода из цикла</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i51" i:type="ExecutedStep">
        <Childs />
        <Id>5c28a8e5-5092-49d0-8143-b895c99a3de0</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i52">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new List&lt;string&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i53">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>list_cityCode</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Лист кодов городов</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i54" i:type="ExecutedStep">
        <Childs />
        <Id>b7c78efd-2c99-49cd-827b-824e8d79efbd</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i55">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>default(Activities.DataBaseSQL.Core.DataBaseShareMethodConnection)</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i56">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>sql_rivegauche</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>SQL подключение</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i57" i:type="CommentStep">
        <Childs />
        <Id>c45a963b-eff6-47cd-83d4-fc80b5f8aae0</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>─── ⋆⋅☆⋅⋆ ───── ⋆⋅☆⋅⋆ ───── ⋆⋅☆⋅⋆ ───── ⋆⋅☆⋅⋆ ───── ⋆⋅☆⋅⋆ ──</Text>
      </AbstractStep>
      <AbstractStep z:Id="i58" i:type="CommentStep">
        <Childs />
        <Id>e975796d-27b3-4086-b6b6-deb025549a27</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>STATE Machine
Для корректной работы используются следующие комбинации параметров bool_useDispatcher, bool_usePerformer:

- bool_useDispatcher==true, bool_usePerformer==false - робот работает в режиме создания транзакций в целевую очередь.
- bool_useDispatcher==false, bool_usePerformer==true - робот работает в режиме обработки транзакций в целевой очереди.
- bool_useDispatcher==false, bool_usePerformer==false - робот запускается в целях тестирования и вызывается скрипт Process.pix с пустыми данными транзакции.</Text>
      </AbstractStep>
      <AbstractStep z:Id="i59" i:type="ExecutedStep">
        <Childs>
          <AbstractStep z:Id="i60" i:type="CommentStep">
            <Childs />
            <Id>ab8dd9ed-2aec-47f8-8ba2-e797a5559bfe</Id>
            <Parent z:Ref="i59" />
            <PropertyValues />
            <SelectedOptionId i:nil="true" />
            <Text>СОСТОЯНИЯ:
STATE 1: Инициализация
STATE 2: Общие действия для всех транзакций
STATE 3: Получение данных транзакции
STATE 4: Обработка/создание транзакции
STATE 5: Завершение</Text>
          </AbstractStep>
          <AbstractStep z:Id="i61" i:type="ExecutedStep">
            <Childs>
              <AbstractStep z:Id="i62" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i63" i:type="CommentStep">
                    <Childs />
                    <Id>8190466c-f816-4c6f-ada6-eaec66304b0e</Id>
                    <Parent z:Ref="i62" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>- Получение учетных данных

Технические шаги:
- Логирование начала работы
- Проверка и создание проектных папок
- Чтение конфигурационных данных</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i64" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i65" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i66" i:type="CommentStep">
                            <Childs />
                            <Id>ea0d1ce9-043f-4791-b163-452a7a83d567</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues />
                            <SelectedOptionId i:nil="true" />
                            <Text>Подготовка к запуску</Text>
                          </AbstractStep>
                          <AbstractStep z:Id="i67" i:type="ExecutedStep">
                            <Childs />
                            <Id>14846412-a546-4d31-bcea-bb750b9dba7c</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues>
                              <PropertyValue z:Id="i68">
                                <PropertyName>Level</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d17p1:LogLevel">Info</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i69">
                                <PropertyName>Text</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>"LogStep: Начало работы робота"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>LogStep - Начало работы робота</Text>
                            <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i70" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i71" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i72" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>5420faa0-43eb-464e-a359-608c762819a9</Id>
                                    <Parent z:Ref="i71" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i73">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>"Параметры bool_useDispatcher и bool_usePerformer не могут использоваться со значением 'true' одновременно"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i74">
                                        <PropertyName>Exception</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId>0</SelectedOptionId>
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>875a1b6f-dcc3-423e-970a-d28a8e3c0c8e</Id>
                                <Parent z:Ref="i70" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i75" i:type="ExecutedStep">
                                <Childs />
                                <Id>48e89f4e-0544-4841-9418-d877c7464d18</Id>
                                <Parent z:Ref="i70" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>5ea273c5-71c4-4d9f-a9c7-7d47b49371ea</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues>
                              <PropertyValue z:Id="i76">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_useDispatcher==true &amp;&amp; bool_usePerformer==true</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Проверка комбинации параметров робота bool_useDispatcher, bool_usePerformer</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i77" i:type="ExecutedStep">
                            <Childs />
                            <Id>6f71784d-f5a9-424a-bf16-e9c006e56544</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues>
                              <PropertyValue z:Id="i78">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\KillProcesses.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i79">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i80">
                                    <d17p1:ArgumentName>list_processesToKill</d17p1:ArgumentName>
                                    <d17p1:Expression>new List&lt;String&gt; {}</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i81">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Закрыть процессы</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i82" i:type="ExecutedStep">
                            <Childs />
                            <Id>ccd4acf5-368f-4da5-bbff-017d439a1680</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues>
                              <PropertyValue z:Id="i83">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\InitAllSettings.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i84">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i85">
                                    <d17p1:ArgumentName>dict_config</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_config</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Object&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i86">
                                    <d17p1:ArgumentName>bool_isProd</d17p1:ArgumentName>
                                    <d17p1:Expression>bool_isProd</d17p1:Expression>
                                    <d17p1:Type>System.Boolean</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i87">
                                    <d17p1:ArgumentName>bool_isPredProd</d17p1:ArgumentName>
                                    <d17p1:Expression>bool_isPredProd</d17p1:Expression>
                                    <d17p1:Type>System.Boolean</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i88">
                                    <d17p1:ArgumentName>dict_secureData</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_secureData</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i89">
                                    <d17p1:ArgumentName>str_configFile</d17p1:ArgumentName>
                                    <d17p1:Expression>Path.Combine(Environment.CurrentDirectory, @"Data\Config.xlsx")</d17p1:Expression>
                                    <d17p1:Type>System.String</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i90">
                                    <d17p1:ArgumentName>dict_paths</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_paths</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i91">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Выполнить инициализацию настроек</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i92" i:type="CommentStep">
                            <Childs />
                            <Id>22cfc4e8-53b3-4039-9ea9-8809e7dc287c</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues />
                            <SelectedOptionId i:nil="true" />
                            <Text>Дополнительные параметры</Text>
                          </AbstractStep>
                          <AbstractStep z:Id="i93" i:type="ExecutedStep">
                            <Childs />
                            <Id>ddefefe1-e97c-4419-a136-70c6bf88eac5</Id>
                            <Parent z:Ref="i65" />
                            <PropertyValues>
                              <PropertyValue z:Id="i94">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_useDispatcher</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i95">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>dict_config["UseDispatcher"]</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>c40d3d6b-d0ba-4e25-aee5-e6b78ff5053a</Id>
                        <Parent z:Ref="i64" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i96" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i97" i:type="ExecutedStep">
                            <Childs />
                            <Id>929ae933-a266-43d9-8658-13223e036f63</Id>
                            <Parent z:Ref="i96" />
                            <PropertyValues>
                              <PropertyValue z:Id="i98">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i99">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>d276c578-cf3d-4e48-9d6c-6caa0b51a511</Id>
                        <Parent z:Ref="i64" />
                        <PropertyValues>
                          <PropertyValue z:Id="i100">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i101">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i102">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i103">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i104" i:type="ExecutedStep">
                        <Childs />
                        <Id>34aa2d90-fb94-4d33-9e11-87a5349b6cf7</Id>
                        <Parent z:Ref="i64" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>d3d1198e-5d9b-4f5d-b927-8d1d6db7708b</Id>
                    <Parent z:Ref="i62" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i105" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i106" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i107" i:type="ExecutedStep">
                            <Childs />
                            <Id>637cf3bb-183e-448c-bc93-6c511e2c8082</Id>
                            <Parent z:Ref="i106" />
                            <PropertyValues>
                              <PropertyValue z:Id="i108">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i109">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>73172a56-cc05-4202-af83-74e84b2855d5</Id>
                        <Parent z:Ref="i105" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i110" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i111" i:type="ExecutedStep">
                            <Childs />
                            <Id>5bcd5d30-7ae1-40a4-adf5-e96f8cf7cf22</Id>
                            <Parent z:Ref="i110" />
                            <PropertyValues>
                              <PropertyValue z:Id="i112">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>2</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i113">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 2: Общие действия для всех транзакций</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>221a68fd-9530-4f61-ac1f-51f9ae31b928</Id>
                        <Parent z:Ref="i105" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>237baca2-b645-48da-b87d-b6ab1ae4e17e</Id>
                    <Parent z:Ref="i62" />
                    <PropertyValues>
                      <PropertyValue z:Id="i114">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>exc_main!=null</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>c833d6e7-80e7-47c6-8114-125baad880e1</Id>
                <Parent z:Ref="i61" />
                <PropertyValues />
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 1: Инициализация</Text>
                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i115" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i116" i:type="CommentStep">
                    <Childs />
                    <Id>4f16d8b8-639e-4c74-bcd4-b0a1e1184afc</Id>
                    <Parent z:Ref="i115" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Выполнение общих действий</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i117" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i118" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i119" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i120" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i121" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>9ea03b28-9b24-41c3-885c-0c30adfdb32f</Id>
                                    <Parent z:Ref="i120" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i122">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"Достигнуто максимальное количество последовательных исключений. Количество последовательных исключений: {int_consecutiveExceptionCounter}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i123">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>dict_config["MessageBody"]</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Тело сообщения - Ошибка</Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i124" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>789be427-1254-49ed-b134-84a64f302869</Id>
                                    <Parent z:Ref="i120" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i125">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"FrameworkScripts\Notification.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i126">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i127">
                                            <d21p1:ArgumentName>dict_config</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_config</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Object&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i128">
                                            <d21p1:ArgumentName>int_notifyType</d21p1:ArgumentName>
                                            <d21p1:Expression>3</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i129">
                                            <d21p1:ArgumentName>list_attaches</d21p1:ArgumentName>
                                            <d21p1:Expression>new List&lt;string&gt;{}</d21p1:Expression>
                                            <d21p1:Type>List&lt;System.String&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i130">
                                            <d21p1:ArgumentName>sec_mailPassword</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_secureData["MailCred_passwd"]</d21p1:Expression>
                                            <d21p1:Type>System.Security.SecureString</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i131">
                                            <d21p1:ArgumentName>bool_takeScreenshot</d21p1:ArgumentName>
                                            <d21p1:Expression>false</d21p1:Expression>
                                            <d21p1:Type>System.Boolean</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i132">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Выполнить скрипт отправки письма, int_notifyType - 3</Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i133" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>44939b49-37b4-4459-a8e8-5eeab3010c11</Id>
                                    <Parent z:Ref="i120" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i134">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"Достигнуто максимальное количество последовательных исключений. Количество последовательных исключений: {int_consecutiveExceptionCounter}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i135">
                                        <PropertyName>Exception</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId>0</SelectedOptionId>
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>98c8380a-99ce-4c50-9a2e-10fa0ee671af</Id>
                                <Parent z:Ref="i119" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i136" i:type="ExecutedStep">
                                <Childs />
                                <Id>6ce9e856-fa56-4898-b347-9696173985ac</Id>
                                <Parent z:Ref="i119" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>750e96bb-323d-43c8-a489-f8ed28b6d2ec</Id>
                            <Parent z:Ref="i118" />
                            <PropertyValues>
                              <PropertyValue z:Id="i137">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_maxConsecutiveExceptions  &gt; 0 &amp;&amp; int_consecutiveExceptionCounter &gt;= int_maxConsecutiveExceptions </_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Если число int_maxConsecutiveExceptions было достигнуто, вызов исключения для завершения выполнения процесса. 
Если int_maxConsecutiveExceptions равно 0, то допускается любое количество последовательных исключений.</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i138" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i139" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i140" i:type="ExecutedStep">
                                    <Childs>
                                      <AbstractStep z:Id="i141" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i142" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>6e937e72-0c53-4fbd-83cb-2554aa60f996</Id>
                                            <Parent z:Ref="i141" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i143">
                                                <PropertyName>QueueName</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>str_queueName</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i144">
                                                <PropertyName>MaxItems</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i145">
                                                <PropertyName>Status</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.Master.Enum" i:type="d25p1:QueueItemStatus">New</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i146">
                                                <PropertyName>StartDate</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://www.w3.org/2001/XMLSchema" i:type="d25p1:dateTime">0001-01-01T00:00:00</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i147">
                                                <PropertyName>EndDate</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://www.w3.org/2001/XMLSchema" i:type="d25p1:dateTime">0001-01-01T00:00:00</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i148">
                                                <PropertyName>Result</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>list_queueItemData</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i149">
                                                <PropertyName>Priority</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://schemas.datacontract.org/2004/07/Activities.Queues.Enums" i:type="d25p1:QueueItemPriorityForGet">No</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i150">
                                                <PropertyName>Comment</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i151">
                                                <PropertyName>Reference</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i152">
                                                <PropertyName>ErrorComment</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i153">
                                                <PropertyName>QueueItemErrorType</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://schemas.datacontract.org/2004/07/Activities.Queues.Enums" i:type="d25p1:QueueItemErrorTypeForGet">No</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i154">
                                                <PropertyName>SkipItems</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i155">
                                                <PropertyName>UseReferenceStartsWith</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://www.w3.org/2001/XMLSchema" i:type="d25p1:boolean">false</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text></Text>
                                            <_activityFullName>Activities.Queues.GetElementsByFilter</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>5ff92c32-d22b-426f-8f47-4625af6c4afb</Id>
                                        <Parent z:Ref="i140" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i156" i:type="ExecutedStep">
                                        <Childs />
                                        <Id>b32c646b-58b8-4422-a5c9-631581b6e19b</Id>
                                        <Parent z:Ref="i140" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                                      </AbstractStep>
                                    </Childs>
                                    <Id>2b749892-e1ee-4b63-b099-c2dc2237017d</Id>
                                    <Parent z:Ref="i139" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i157">
                                        <PropertyName>Condition</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>bool_usePerformer==true</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Если процесс запускается для обработки очереди - проверка наличия транзакций для обработки</Text>
                                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i158" i:type="ExecutedStep">
                                    <Childs>
                                      <AbstractStep z:Id="i159" i:type="CommentStep">
                                        <Childs />
                                        <Id>804ba242-fa5b-4a4b-9270-def8e9825f84</Id>
                                        <Parent z:Ref="i158" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <Text>Если в очереди нет новых транзакций</Text>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i160" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i161" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>77abc425-9373-4343-acea-27652b462b3d</Id>
                                            <Parent z:Ref="i160" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i162">
                                                <PropertyName>Text</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i163">
                                                <PropertyName>Exception</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>new BusinessRuleException("Отсутствуют новые транзакции для обработки")</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId>1</SelectedOptionId>
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Бизнес ошибка: Отсутствуют новые транзакции для обработки</Text>
                                            <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>268d1634-68fb-44b6-a381-650fc7caa700</Id>
                                        <Parent z:Ref="i158" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i164" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i165" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>3813a6ad-b3c9-40b0-a56f-1790f0bb94bc</Id>
                                            <Parent z:Ref="i164" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i166">
                                                <PropertyName>Value</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>$"{list_queueItemData.Last().Id}"</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i167">
                                                <PropertyName>To</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>str_lastTransactionID</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>ID последней транзакции в пуле транзакций</Text>
                                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>dcce588d-4ffb-499b-b69e-99aa99645dd8</Id>
                                        <Parent z:Ref="i158" />
                                        <PropertyValues>
                                          <PropertyValue z:Id="i168">
                                            <PropertyName>Condition</PropertyName>
                                            <_dataType>Expression</_dataType>
                                            <_expression>bool_usePerformer == true</_expression>
                                            <_value i:nil="true" />
                                            <_xpathSettings xmlns:d23p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                          </PropertyValue>
                                        </PropertyValues>
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i169" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i170" i:type="CommentStep">
                                            <Childs />
                                            <Id>340cd5a0-8e77-4310-8b02-ebc66d582bd5</Id>
                                            <Parent z:Ref="i169" />
                                            <PropertyValues />
                                            <SelectedOptionId i:nil="true" />
                                            <Text>При первом запуске диспатчера нет id транзакции</Text>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>c2896023-4023-4cf4-bd51-4023d4aa8c56</Id>
                                        <Parent z:Ref="i158" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                                      </AbstractStep>
                                    </Childs>
                                    <Id>3121e4e8-4ac2-4975-8e44-232d08181371</Id>
                                    <Parent z:Ref="i139" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i171">
                                        <PropertyName>Condition</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>list_queueItemData.Count() == 0 &amp;&amp; bool_usePerformer == true</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>В очереди нет новых транзакций?</Text>
                                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>4ef2ae49-55a7-47db-84a1-684af767220b</Id>
                                <Parent z:Ref="i138" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text>Истина - Если ID транзакции пустой или нет ошибок (выполнение проверки очереди)</Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i172" i:type="ExecutedStep">
                                <Childs />
                                <Id>577f73a5-3aa1-43d4-b9bb-aaa45a2ab3f9</Id>
                                <Parent z:Ref="i138" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text>Ложь - Если есть ошибка и транзакция непустая (выполнение перезапуска)</Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>299d9433-63ab-46cc-82c3-af7f5589a19f</Id>
                            <Parent z:Ref="i118" />
                            <PropertyValues>
                              <PropertyValue z:Id="i173">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main == null || string.IsNullOrEmpty(str_transactionID) == true</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Проверка на перезапуск транзакции</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i174" i:type="ExecutedStep">
                            <Childs />
                            <Id>40f13a39-ee9d-4f16-a729-abb8eae8bff6</Id>
                            <Parent z:Ref="i118" />
                            <PropertyValues>
                              <PropertyValue z:Id="i175">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"TransactionScripts\PreProcess.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i176">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i177">
                                    <d17p1:ArgumentName>dict_config</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_config</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Object&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i178">
                                    <d17p1:ArgumentName>dict_secureData</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_secureData</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i179">
                                    <d17p1:ArgumentName>bool_useDispatcher</d17p1:ArgumentName>
                                    <d17p1:Expression>bool_useDispatcher</d17p1:Expression>
                                    <d17p1:Type>System.Boolean</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i180">
                                    <d17p1:ArgumentName>out_list_cityCode</d17p1:ArgumentName>
                                    <d17p1:Expression>list_cityCode</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i181">
                                    <d17p1:ArgumentName>out_sql_rivegauche</d17p1:ArgumentName>
                                    <d17p1:Expression>sql_rivegauche</d17p1:Expression>
                                    <d17p1:Type>Activities.DataBaseSQL.Core.DataBaseShareMethodConnection</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i182">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Выполнить общие действия</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>590b7cf6-402d-493c-b953-c916edb14500</Id>
                        <Parent z:Ref="i117" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i183" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i184" i:type="ExecutedStep">
                            <Childs />
                            <Id>e614a408-ffcd-47a7-84f4-6abeb61e1e6c</Id>
                            <Parent z:Ref="i183" />
                            <PropertyValues>
                              <PropertyValue z:Id="i185">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i186">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i187" i:type="ExecutedStep">
                            <Childs />
                            <Id>f1799805-c127-475b-80dc-4465925658f9</Id>
                            <Parent z:Ref="i183" />
                            <PropertyValues>
                              <PropertyValue z:Id="i188">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>null</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i189">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>str_transactionID</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Обнуление данных транзакции для завершения процесса </Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>d60a057c-a5fb-44aa-b703-384ab2f4c681</Id>
                        <Parent z:Ref="i117" />
                        <PropertyValues>
                          <PropertyValue z:Id="i190">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i191">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i192">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i193">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i194" i:type="ExecutedStep">
                        <Childs />
                        <Id>d51f600a-6254-48bd-871d-7004563fb0db</Id>
                        <Parent z:Ref="i117" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>a87a7534-439e-4a8e-b964-837d5f534c0e</Id>
                    <Parent z:Ref="i115" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i195" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i196" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i197" i:type="ExecutedStep">
                            <Childs />
                            <Id>0cfb7f72-9ed1-4dcb-9d0a-c3aa38422641</Id>
                            <Parent z:Ref="i196" />
                            <PropertyValues>
                              <PropertyValue z:Id="i198">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i199">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Счетчик попыток</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i200" i:type="ExecutedStep">
                            <Childs />
                            <Id>7a9c59f5-f7cd-488c-845a-96969470b10d</Id>
                            <Parent z:Ref="i196" />
                            <PropertyValues>
                              <PropertyValue z:Id="i201">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>3</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i202">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 3: Получение данных транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>7481d890-9c42-46af-ae2e-da5790436ba0</Id>
                        <Parent z:Ref="i195" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Истина - Количество попыток больше максимального</Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i203" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i204" i:type="ExecutedStep">
                            <Childs />
                            <Id>d7925d68-7feb-4ab5-9077-f21fa4d29c19</Id>
                            <Parent z:Ref="i203" />
                            <PropertyValues>
                              <PropertyValue z:Id="i205">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>4</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i206">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 4: Обработка/создание транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>7db930a2-d63a-4a59-9798-957729fe3ae3</Id>
                        <Parent z:Ref="i195" />
                        <PropertyValues>
                          <PropertyValue z:Id="i207">
                            <PropertyName>Condition</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main!=null &amp;&amp; string.IsNullOrEmpty(str_transactionID)==false || bool_usePerformer==false &amp;&amp; exc_main==null</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Если есть ошибка и ID транзакции непустой (перезапуск) или выполнен запуск в режиме Dispatcher</Text>
                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i208" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i209" i:type="ExecutedStep">
                            <Childs />
                            <Id>27b7c89b-e595-43ef-b4bb-de489c09de1e</Id>
                            <Parent z:Ref="i208" />
                            <PropertyValues>
                              <PropertyValue z:Id="i210">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i211">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>4d6edfc8-3cc4-4695-851a-b1353de805d3</Id>
                        <Parent z:Ref="i195" />
                        <PropertyValues>
                          <PropertyValue z:Id="i212">
                            <PropertyName>Condition</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main != null</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i213" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i214" i:type="ExecutedStep">
                            <Childs />
                            <Id>2fd6d2ae-4130-4384-97d3-542688108113</Id>
                            <Parent z:Ref="i213" />
                            <PropertyValues>
                              <PropertyValue z:Id="i215">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>3</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i216">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 3: Получение данных транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>f58f8746-0a93-4fa2-b8bd-c86072437f0b</Id>
                        <Parent z:Ref="i195" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>a7b8e8d0-327f-4178-ba58-9a48787a5ecd</Id>
                    <Parent z:Ref="i115" />
                    <PropertyValues>
                      <PropertyValue z:Id="i217">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>(int_transactionRetryCounter &gt; int_maxTransactionRetry &amp;&amp; exc_main!=null &amp;&amp; string.IsNullOrEmpty(str_transactionID)==false) || bool_usePerformer==true &amp;&amp; exc_main==null</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS:</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>c2d6a895-a9c7-4e29-9141-2c28b6a8ac7b</Id>
                <Parent z:Ref="i61" />
                <PropertyValues>
                  <PropertyValue z:Id="i218">
                    <PropertyName>Condition</PropertyName>
                    <_dataType>Expression</_dataType>
                    <_expression>int_state == 2</_expression>
                    <_value i:nil="true" />
                    <_xpathSettings xmlns:d11p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                  </PropertyValue>
                </PropertyValues>
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 2: Общие действия для всех транзакций</Text>
                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i219" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i220" i:type="CommentStep">
                    <Childs />
                    <Id>a07b680c-6001-4f0a-b541-95a3cc639190</Id>
                    <Parent z:Ref="i219" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Получение следующей транзакции для обработки</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i221" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i222" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i223" i:type="ExecutedStep">
                            <Childs />
                            <Id>2ba1abc9-5968-4a16-88ac-2541d6cbd015</Id>
                            <Parent z:Ref="i222" />
                            <PropertyValues>
                              <PropertyValue z:Id="i224">
                                <PropertyName>ShouldStop</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_shouldStop</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>Activities.Master.Tasks.CheckSoftStopFlag</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i225" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i226" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i227" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>3526b8cf-2b12-4d39-99d2-3f235f7b586d</Id>
                                    <Parent z:Ref="i226" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i228">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"TransactionScripts\GetTransaction.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i229">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i230">
                                            <d21p1:ArgumentName>str_transactionID</d21p1:ArgumentName>
                                            <d21p1:Expression>str_transactionID</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i231">
                                            <d21p1:ArgumentName>int_transCount</d21p1:ArgumentName>
                                            <d21p1:Expression>int_transCount</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i232">
                                            <d21p1:ArgumentName>str_transactionItem</d21p1:ArgumentName>
                                            <d21p1:Expression>str_transactionItem</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i233">
                                            <d21p1:ArgumentName>str_queueName</d21p1:ArgumentName>
                                            <d21p1:Expression>str_queueName</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i234">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>8c72b267-4826-4bd2-a514-5f0fe7134395</Id>
                                <Parent z:Ref="i225" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i235" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i236" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>8995151b-8d5d-4019-87f9-427e5da047f9</Id>
                                    <Parent z:Ref="i235" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i237">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>null</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i238">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>str_transactionID</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Обнуление данных транзакции для завершения процесса </Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>1c8c553c-2330-4fae-ad0c-832d4eb6cf7a</Id>
                                <Parent z:Ref="i225" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>d69e5110-6787-4eda-9052-b04fca105580</Id>
                            <Parent z:Ref="i222" />
                            <PropertyValues>
                              <PropertyValue z:Id="i239">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_shouldStop==false</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Should Stop or Get Next</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>7fb24e37-30e5-4c03-83c0-a16af436b67d</Id>
                        <Parent z:Ref="i221" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i240" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i241" i:type="ExecutedStep">
                            <Childs />
                            <Id>19b36696-9ddb-467d-89c8-6cab80da160a</Id>
                            <Parent z:Ref="i240" />
                            <PropertyValues>
                              <PropertyValue z:Id="i242">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i243">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i244" i:type="ExecutedStep">
                            <Childs />
                            <Id>38da3bf3-8126-41cb-b1ba-07dc92037aa9</Id>
                            <Parent z:Ref="i240" />
                            <PropertyValues>
                              <PropertyValue z:Id="i245">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>null</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i246">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>str_transactionID</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Обнуление данных транзакции для завершения процесса </Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>7c548c26-5555-4c19-8b2b-fb0d13fc68d8</Id>
                        <Parent z:Ref="i221" />
                        <PropertyValues>
                          <PropertyValue z:Id="i247">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i248">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i249">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i250">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i251" i:type="ExecutedStep">
                        <Childs />
                        <Id>a891a94c-f931-4a09-94cd-19ce48f61bc9</Id>
                        <Parent z:Ref="i221" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>4d7193c6-674f-4577-ac7b-cec005f4a084</Id>
                    <Parent z:Ref="i219" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i252" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i253" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i254" i:type="ExecutedStep">
                            <Childs />
                            <Id>4d659791-f7eb-43a6-a9d3-277f2cfa161a</Id>
                            <Parent z:Ref="i253" />
                            <PropertyValues>
                              <PropertyValue z:Id="i255">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>4</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i256">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 4: Обработка/создание транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>9fc58e99-fd33-459b-b33f-9cd4d23185a0</Id>
                        <Parent z:Ref="i252" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i257" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i258" i:type="ExecutedStep">
                            <Childs />
                            <Id>2c21cbca-fb45-4281-8e0f-9f6027d87165</Id>
                            <Parent z:Ref="i257" />
                            <PropertyValues>
                              <PropertyValue z:Id="i259">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i260">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>d9f08e0b-7740-4815-8b4d-d428d4ff8276</Id>
                        <Parent z:Ref="i252" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>1f53d7fa-a244-4089-b1d4-5011c290ba5a</Id>
                    <Parent z:Ref="i219" />
                    <PropertyValues>
                      <PropertyValue z:Id="i261">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>str_transactionID!=null</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>b385e441-61ee-4442-840f-399ab14ad797</Id>
                <Parent z:Ref="i61" />
                <PropertyValues>
                  <PropertyValue z:Id="i262">
                    <PropertyName>Condition</PropertyName>
                    <_dataType>Expression</_dataType>
                    <_expression>int_state == 3</_expression>
                    <_value i:nil="true" />
                    <_xpathSettings xmlns:d11p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                  </PropertyValue>
                </PropertyValues>
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 3: Получение данных транзакции</Text>
                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i263" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i264" i:type="CommentStep">
                    <Childs />
                    <Id>971728d2-b7a7-4553-a5e2-70e3d32583c7</Id>
                    <Parent z:Ref="i263" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Вызов процесса обработки/создания транзакции</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i265" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i266" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i267" i:type="ExecutedStep">
                            <Childs />
                            <Id>8d377558-bf8c-45e0-9ba1-1e965dc910da</Id>
                            <Parent z:Ref="i266" />
                            <PropertyValues>
                              <PropertyValue z:Id="i268">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>null</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i269">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Обнуление переменной для хранения ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i270" i:type="CommentStep">
                            <Childs />
                            <Id>27a597be-cd40-44ef-846c-2beae14c0ef0</Id>
                            <Parent z:Ref="i266" />
                            <PropertyValues />
                            <SelectedOptionId i:nil="true" />
                            <Text>1. Если запуск направлен на обработку элементов очереди - Вызов Process.pix
2. Если запуск произошел на создание транзакций очереди - Вызов CreateTransactions.pix</Text>
                          </AbstractStep>
                          <AbstractStep z:Id="i271" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i272" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i273" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>108e6044-ad3c-40b5-a03e-f502fc1592ec</Id>
                                    <Parent z:Ref="i272" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i274">
                                        <PropertyName>Level</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d21p1:LogLevel">Info</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i275">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"LogStep: Старт обработки транзакции: {str_transactionID}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>LogStep - Старт обработки транзакции</Text>
                                    <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i276" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>ee77f21f-132c-4993-834f-7ba001856006</Id>
                                    <Parent z:Ref="i272" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i277">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"TransactionScripts\Process.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i278">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i279">
                                            <d21p1:ArgumentName>dict_config</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_config</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Object&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i280">
                                            <d21p1:ArgumentName>dict_paths</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_paths</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.String&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i281">
                                            <d21p1:ArgumentName>dict_secureData</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_secureData</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i282">
                                            <d21p1:ArgumentName>str_transactionID</d21p1:ArgumentName>
                                            <d21p1:Expression>str_transactionID</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i283">
                                            <d21p1:ArgumentName>int_maxTransactionRetry</d21p1:ArgumentName>
                                            <d21p1:Expression>int_maxTransactionRetry</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i284">
                                            <d21p1:ArgumentName>int_transactionRetryCounter</d21p1:ArgumentName>
                                            <d21p1:Expression>int_transactionRetryCounter</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i285">
                                            <d21p1:ArgumentName>str_transactionItem</d21p1:ArgumentName>
                                            <d21p1:Expression>str_transactionItem</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i286">
                                            <d21p1:ArgumentName>in_list_cityName</d21p1:ArgumentName>
                                            <d21p1:Expression>list_cityCode</d21p1:Expression>
                                            <d21p1:Type>List&lt;System.String&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i287">
                                            <d21p1:ArgumentName>in_sql_rivegauche</d21p1:ArgumentName>
                                            <d21p1:Expression>sql_rivegauche</d21p1:Expression>
                                            <d21p1:Type>Activities.DataBaseSQL.Core.DataBaseShareMethodConnection</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i288">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Выполнить скрипт обработки транзакции</Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i289" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>a03658e6-4033-47c7-9153-3851cf9e0f90</Id>
                                    <Parent z:Ref="i272" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i290">
                                        <PropertyName>Level</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d21p1:LogLevel">Info</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i291">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"LogStep: Транзакция обработана: {str_transactionID}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>LogStep - Транзакция обработана</Text>
                                    <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i292" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>0f80cfa5-f568-4046-8b5d-5acf36859792</Id>
                                    <Parent z:Ref="i272" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i293">
                                        <PropertyName>ID</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>str_transactionID</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i294">
                                        <PropertyName>Status</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:boolean">true</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i295">
                                        <PropertyName>ErrorComment</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i296">
                                        <PropertyName>QueueItemErrorType</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/Activities.Queues.Enums" i:type="d21p1:QueueItemErrorType">Technical</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i297">
                                        <PropertyName>ErrorDetails</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression></_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i298">
                                        <PropertyName>OutputData</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression></_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>Activities.Queues.ConfirmElement</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>27139bfc-9127-4719-89d9-64eaa9f187a6</Id>
                                <Parent z:Ref="i271" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i299" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i300" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>4ec63836-fbe9-45a8-a688-42374277a294</Id>
                                    <Parent z:Ref="i299" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i301">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>"1"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i302">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>str_transactionID</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Присвоение ID для работы перезапуска</Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i303" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>900c8b9d-318e-49d8-8f57-a9dc1c974e8e</Id>
                                    <Parent z:Ref="i299" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i304">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"TransactionScripts\CreateTransactions.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i305">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i306">
                                            <d21p1:ArgumentName>dict_config</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_config</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Object&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i307">
                                            <d21p1:ArgumentName>dict_secureData</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_secureData</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i308">
                                            <d21p1:ArgumentName>dict_paths</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_paths</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.String&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i309">
                                            <d21p1:ArgumentName>str_queueName</d21p1:ArgumentName>
                                            <d21p1:Expression>str_queueName</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i310">
                                            <d21p1:ArgumentName>int_maxTransactionRetry</d21p1:ArgumentName>
                                            <d21p1:Expression>int_maxTransactionRetry</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i311">
                                            <d21p1:ArgumentName>int_transactionRetryCounter</d21p1:ArgumentName>
                                            <d21p1:Expression>int_transactionRetryCounter</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i312">
                                            <d21p1:ArgumentName>bool_useDispatcher</d21p1:ArgumentName>
                                            <d21p1:Expression>bool_useDispatcher</d21p1:Expression>
                                            <d21p1:Type>System.Boolean</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i313">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Выполнить скрипт создания транзакций</Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>78d9dfd6-5d96-401f-8f7e-a5b5b3d30da0</Id>
                                <Parent z:Ref="i271" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>65e7db68-ea0b-48a2-b498-ecc99fccc8e7</Id>
                            <Parent z:Ref="i266" />
                            <PropertyValues>
                              <PropertyValue z:Id="i314">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_usePerformer==true</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text i:nil="true" />
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>822fb930-aae0-46a0-8af8-b35749113c70</Id>
                        <Parent z:Ref="i265" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i315" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i316" i:type="ExecutedStep">
                            <Childs />
                            <Id>8879594b-bf3e-4d4f-aec2-39260f552119</Id>
                            <Parent z:Ref="i315" />
                            <PropertyValues>
                              <PropertyValue z:Id="i317">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i318">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i319" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i320" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i321" i:type="ExecutedStep">
                                    <Childs>
                                      <AbstractStep z:Id="i322" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i323" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>222ed448-574b-4334-ab99-9f788aa8f651</Id>
                                            <Parent z:Ref="i322" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i324">
                                                <PropertyName>Value</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>true</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i325">
                                                <PropertyName>To</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>bool_transactionError</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Одна из транзакций обработана с ошибкой</Text>
                                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                          </AbstractStep>
                                          <AbstractStep z:Id="i326" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>0ff5c2d4-adae-49af-a87b-5bbd809543b6</Id>
                                            <Parent z:Ref="i322" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i327">
                                                <PropertyName>ID</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>str_transactionID</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i328">
                                                <PropertyName>Status</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://www.w3.org/2001/XMLSchema" i:type="d25p1:boolean">false</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i329">
                                                <PropertyName>ErrorComment</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>$"{errorMessage}"</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i330">
                                                <PropertyName>QueueItemErrorType</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://schemas.datacontract.org/2004/07/Activities.Queues.Enums" i:type="d25p1:QueueItemErrorType">Business</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i331">
                                                <PropertyName>ErrorDetails</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i332">
                                                <PropertyName>OutputData</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Проставление статуса Failed (Business) элементу очереди</Text>
                                            <_activityFullName>Activities.Queues.ConfirmElement</_activityFullName>
                                          </AbstractStep>
                                          <AbstractStep z:Id="i333" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>54174008-f7e8-4636-ab37-871e4f3e330e</Id>
                                            <Parent z:Ref="i322" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i334">
                                                <PropertyName>Value</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>null</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i335">
                                                <PropertyName>To</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>exc_main</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Обнуление бизнес-ошибки для избежания перезапусков</Text>
                                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>8949b13e-ccd9-4ef7-8307-6e85b85ffa0b</Id>
                                        <Parent z:Ref="i321" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i336" i:type="ExecutedStep">
                                        <Childs />
                                        <Id>561b22d8-e326-4cc4-b63e-17b365614faf</Id>
                                        <Parent z:Ref="i321" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                                      </AbstractStep>
                                    </Childs>
                                    <Id>4c3ea113-5a91-440a-ad1d-2362f5100143</Id>
                                    <Parent z:Ref="i320" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i337">
                                        <PropertyName>Condition</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>bool_usePerformer==true &amp;&amp; int_transactionRetryCounter==int_maxTransactionRetry</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>ce5a40b5-7c94-4986-8cb6-da8a09cf237e</Id>
                                <Parent z:Ref="i319" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i338" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i339" i:type="ExecutedStep">
                                    <Childs>
                                      <AbstractStep z:Id="i340" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i341" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>d67b8977-ad79-49a5-bd8d-98a320b7fdbc</Id>
                                            <Parent z:Ref="i340" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i342">
                                                <PropertyName>Value</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>true</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i343">
                                                <PropertyName>To</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>bool_transactionError</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Одна из транзакций обработана с ошибкой</Text>
                                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                          </AbstractStep>
                                          <AbstractStep z:Id="i344" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>cb984fb9-1715-48a6-a8ef-b9619721cacd</Id>
                                            <Parent z:Ref="i340" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i345">
                                                <PropertyName>ID</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>str_transactionID</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i346">
                                                <PropertyName>Status</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://www.w3.org/2001/XMLSchema" i:type="d25p1:boolean">false</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i347">
                                                <PropertyName>ErrorComment</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>$"{errorMessage}"</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i348">
                                                <PropertyName>QueueItemErrorType</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://schemas.datacontract.org/2004/07/Activities.Queues.Enums" i:type="d25p1:QueueItemErrorType">Technical</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i349">
                                                <PropertyName>ErrorDetails</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i350">
                                                <PropertyName>OutputData</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Проставление статуса Failed (Technical) элементу очереди</Text>
                                            <_activityFullName>Activities.Queues.ConfirmElement</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>d8e2ea2e-70b7-4d86-8f6c-accf1702b426</Id>
                                        <Parent z:Ref="i339" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i351" i:type="ExecutedStep">
                                        <Childs />
                                        <Id>ca0565cb-06dc-44bb-b23b-cad012167778</Id>
                                        <Parent z:Ref="i339" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                                      </AbstractStep>
                                    </Childs>
                                    <Id>2e18f868-c533-4e98-af63-1ce9ff25d791</Id>
                                    <Parent z:Ref="i338" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i352">
                                        <PropertyName>Condition</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>bool_usePerformer==true &amp;&amp; int_transactionRetryCounter==int_maxTransactionRetry</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>d5f812a2-d771-4b0b-bc2a-f7b2a74d62ce</Id>
                                <Parent z:Ref="i319" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>30c5ddb1-f60d-4e3b-b722-01fbc836d6bf</Id>
                            <Parent z:Ref="i315" />
                            <PropertyValues>
                              <PropertyValue z:Id="i353">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.GetType() == new BusinessRuleException().GetType()</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Если тип ошибки - Бизнес-исключение</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>75f84995-e8f6-4ff1-a6e6-f571b59e3d34</Id>
                        <Parent z:Ref="i265" />
                        <PropertyValues>
                          <PropertyValue z:Id="i354">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i355">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i356">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i357">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i358" i:type="ExecutedStep">
                        <Childs />
                        <Id>8e11c3c2-6e52-4f4e-9eab-9d199d358144</Id>
                        <Parent z:Ref="i265" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>9a2a7041-fdc8-4a8f-a73b-00a44a88adbb</Id>
                    <Parent z:Ref="i263" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i359" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i360" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i361" i:type="ExecutedStep">
                            <Childs />
                            <Id>f138a930-00a6-4c5c-949e-5f7a403ff84c</Id>
                            <Parent z:Ref="i360" />
                            <PropertyValues>
                              <PropertyValue z:Id="i362">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter + 1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i363">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>+1 попытка</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i364" i:type="ExecutedStep">
                            <Childs />
                            <Id>a0319334-7d32-4d27-bbbf-a1f184fca1d6</Id>
                            <Parent z:Ref="i360" />
                            <PropertyValues>
                              <PropertyValue z:Id="i365">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_consecutiveExceptionCounter + 1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i366">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_consecutiveExceptionCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>+1 последовательное исключение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i367" i:type="ExecutedStep">
                            <Childs />
                            <Id>8e4d3f6f-4807-4e7f-a5cb-14ebfb83efc7</Id>
                            <Parent z:Ref="i360" />
                            <PropertyValues>
                              <PropertyValue z:Id="i368">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\KillProcesses.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i369">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i370">
                                    <d17p1:ArgumentName>list_processesToKill</d17p1:ArgumentName>
                                    <d17p1:Expression>new List&lt;String&gt; {}</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i371">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Закрыть процессы</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i372" i:type="ExecutedStep">
                            <Childs />
                            <Id>389b3fdc-6848-4053-b449-8e552d12cf2a</Id>
                            <Parent z:Ref="i360" />
                            <PropertyValues>
                              <PropertyValue z:Id="i373">
                                <PropertyName>Count</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>2</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId>0</SelectedOptionId>
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>BR.Core.Base.Sleep</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i374" i:type="ExecutedStep">
                            <Childs />
                            <Id>eb6bc75d-5c6f-452c-9555-b9de29057e83</Id>
                            <Parent z:Ref="i360" />
                            <PropertyValues>
                              <PropertyValue z:Id="i375">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>2</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i376">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 2: Общие действия для всех транзакций</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>a32a2d1a-93bc-4939-9c4e-867063826c2e</Id>
                        <Parent z:Ref="i359" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Истина - Переход в перезапуск, только в режиме Performer\Test</Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i377" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i378" i:type="ExecutedStep">
                            <Childs />
                            <Id>7bcf7d8c-dc8c-42e0-868f-16a49c598616</Id>
                            <Parent z:Ref="i377" />
                            <PropertyValues>
                              <PropertyValue z:Id="i379">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i380">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>d1d4f585-3a99-4e93-8297-4bac9e360c1e</Id>
                        <Parent z:Ref="i359" />
                        <PropertyValues>
                          <PropertyValue z:Id="i381">
                            <PropertyName>Condition</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>int_transNumber==int_transCount || bool_usePerformer==false</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Иначе если - Количество обрабатываемых транзакций превысило ограничение</Text>
                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i382" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i383" i:type="ExecutedStep">
                            <Childs />
                            <Id>a5ad2946-a62a-4afc-beec-4dd8c6b84b11</Id>
                            <Parent z:Ref="i382" />
                            <PropertyValues>
                              <PropertyValue z:Id="i384">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i385">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Счетчик попыток</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i386" i:type="ExecutedStep">
                            <Childs />
                            <Id>a2a24b32-1d0b-4173-a6dd-e7d72522c264</Id>
                            <Parent z:Ref="i382" />
                            <PropertyValues>
                              <PropertyValue z:Id="i387">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>0</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i388">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_consecutiveExceptionCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Сброс счетчика последовательных исключений</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i389" i:type="ExecutedStep">
                            <Childs />
                            <Id>c483f83c-5739-4bbc-b9c9-e15389fcfcd4</Id>
                            <Parent z:Ref="i382" />
                            <PropertyValues>
                              <PropertyValue z:Id="i390">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>3</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i391">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 3: Получение данных транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>6299e74a-fb34-4cb3-853a-25665b0c2694</Id>
                        <Parent z:Ref="i359" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>950da97a-48f7-4cc2-8a04-22d21e0a32a0</Id>
                    <Parent z:Ref="i263" />
                    <PropertyValues>
                      <PropertyValue z:Id="i392">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>exc_main!=null &amp;&amp; bool_useDispatcher == false</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>6d289b45-fbb7-4c96-b487-a4c589e7729c</Id>
                <Parent z:Ref="i61" />
                <PropertyValues>
                  <PropertyValue z:Id="i393">
                    <PropertyName>Condition</PropertyName>
                    <_dataType>Expression</_dataType>
                    <_expression>int_state == 4</_expression>
                    <_value i:nil="true" />
                    <_xpathSettings xmlns:d11p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                  </PropertyValue>
                </PropertyValues>
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 4: Обработка/создание транзакции</Text>
                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i394" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i395" i:type="CommentStep">
                    <Childs />
                    <Id>5e32a76e-e8d8-4b93-8253-cb3666213848</Id>
                    <Parent z:Ref="i394" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Опционально - возможно удаление данного условного оператора</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i396" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i397" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i398" i:type="ExecutedStep">
                            <Childs />
                            <Id>9ba05825-e249-4fe7-922d-5c180ad250d0</Id>
                            <Parent z:Ref="i397" />
                            <PropertyValues>
                              <PropertyValue z:Id="i399">
                                <PropertyName>InSqlConnection</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>sql_rivegauche</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>Activities.DataBaseSQL.RemoveConnection</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i400" i:type="ExecutedStep">
                            <Childs />
                            <Id>1e311c12-c8ac-452f-b274-d3f0e95c4a9d</Id>
                            <Parent z:Ref="i397" />
                            <PropertyValues>
                              <PropertyValue z:Id="i401">
                                <PropertyName>Level</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d17p1:LogLevel">Info</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i402">
                                <PropertyName>Text</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>"LogStep: Завершение работы робота"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>LogStep - Завершение работы робота</Text>
                            <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i403" i:type="ExecutedStep">
                            <Childs />
                            <Id>02389913-1755-409f-95b4-ffc7675a9cb5</Id>
                            <Parent z:Ref="i397" />
                            <PropertyValues>
                              <PropertyValue z:Id="i404">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\KillProcesses.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i405">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i406">
                                    <d17p1:ArgumentName>list_processesToKill</d17p1:ArgumentName>
                                    <d17p1:Expression>new List&lt;String&gt;{}</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i407">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Завершить процессы робота по умолчанию</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i408" i:type="ExecutedStep">
                            <Childs />
                            <Id>f51591a0-e7be-4986-80dc-f3bfb96f9538</Id>
                            <Parent z:Ref="i397" />
                            <PropertyValues>
                              <PropertyValue z:Id="i409">
                                <PropertyName>Count</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">3</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId>0</SelectedOptionId>
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text i:nil="true" />
                            <_activityFullName>BR.Core.Base.Sleep</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i410" i:type="ExecutedStep">
                            <Childs />
                            <Id>3a925492-a575-4c95-ab76-aa880d9b9bf5</Id>
                            <Parent z:Ref="i397" />
                            <PropertyValues>
                              <PropertyValue z:Id="i411">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>dict_paths["TEMPFolder"]</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Удалить необходимые файлы и/или папки, которые были сформированы в процессе запуска</Text>
                            <_activityFullName>Activities.Files.DeleteFile</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i412" i:type="ExecutedStep">
                            <Childs />
                            <Id>5843bafb-fed9-49b5-88a1-051d8314fef7</Id>
                            <Parent z:Ref="i397" />
                            <PropertyValues>
                              <PropertyValue z:Id="i413">
                                <PropertyName>InSqlConnection</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>sql_rivegauche</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>Activities.DataBaseSQL.RemoveConnection</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>0f6647bf-0601-40c7-9bf0-7b9063e25b96</Id>
                        <Parent z:Ref="i396" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i414" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i415" i:type="ExecutedStep">
                            <Childs />
                            <Id>063de43d-0460-4af8-8893-fc8399b4d0a1</Id>
                            <Parent z:Ref="i414" />
                            <PropertyValues>
                              <PropertyValue z:Id="i416">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i417">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>02dca429-ac9c-4519-8ff0-76e809334786</Id>
                        <Parent z:Ref="i396" />
                        <PropertyValues>
                          <PropertyValue z:Id="i418">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i419">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i420">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i421">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i422" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i423" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i424" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i425" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>b162d2f1-60dc-404d-8b07-f6efe980e73f</Id>
                                    <Parent z:Ref="i424" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i426">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main.Message.Contains($"{exc_main.GetType()}") ? $"{exc_main.Message}\n{exc_main.Source}" : $"{exc_main.GetType()}: {exc_main.Message}\n{exc_main.Source}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i427">
                                        <PropertyName>Exception</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId>0</SelectedOptionId>
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Проброс ошибки</Text>
                                    <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>4953780e-0735-4f62-bcf9-abb1143f7ae5</Id>
                                <Parent z:Ref="i423" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i428" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i429" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>1218d02b-fa7e-4cd5-a7fa-ea10f487ff2b</Id>
                                    <Parent z:Ref="i428" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i430">
                                        <PropertyName>Level</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d21p1:LogLevel">Warn</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i431">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main.Message.Contains($"{exc_main.GetType()}") ? $"{exc_main.Message}\n{exc_main.Source}" : $"{exc_main.GetType()}: {exc_main.Message}\n{exc_main.Source}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>LogStep - Бизнес ошибка</Text>
                                    <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>8fe477f8-e55c-491e-9f61-612078fe3951</Id>
                                <Parent z:Ref="i423" />
                                <PropertyValues>
                                  <PropertyValue z:Id="i432">
                                    <PropertyName>Condition</PropertyName>
                                    <_dataType>Expression</_dataType>
                                    <_expression>exc_main != null</_expression>
                                    <_value i:nil="true" />
                                    <_xpathSettings xmlns:d19p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                  </PropertyValue>
                                </PropertyValues>
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i433" i:type="ExecutedStep">
                                <Childs />
                                <Id>2b173f2d-4f63-4434-bcc7-c6e6e12ede90</Id>
                                <Parent z:Ref="i423" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>d629c374-5130-4930-80d3-60ff6bc4fa8a</Id>
                            <Parent z:Ref="i422" />
                            <PropertyValues>
                              <PropertyValue z:Id="i434">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main != null &amp;&amp; exc_main.GetType() != new BusinessRuleException().GetType()</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Есть системная ошибка?</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i435" i:type="ExecutedStep">
                            <Childs />
                            <Id>d97a1437-d1af-45cc-8260-25f6b275c836</Id>
                            <Parent z:Ref="i422" />
                            <PropertyValues>
                              <PropertyValue z:Id="i436">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>true</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i437">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_exit</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение флага выхода, чтобы прервать цикл while</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>cf3314cd-3e49-48e2-bd38-c88dc9f388d0</Id>
                        <Parent z:Ref="i396" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>5cddf9a1-f347-484c-af79-d1f861be2958</Id>
                    <Parent z:Ref="i394" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>Завершение работы робота</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>6bec8564-a15f-4a4f-bc6d-44263523da89</Id>
                <Parent z:Ref="i61" />
                <PropertyValues />
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 5: Завершение</Text>
                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
              </AbstractStep>
            </Childs>
            <Id>0c004d7c-5bc9-4073-bbc5-4a5aae58f2a4</Id>
            <Parent z:Ref="i59" />
            <PropertyValues>
              <PropertyValue z:Id="i438">
                <PropertyName>Condition</PropertyName>
                <_dataType>Expression</_dataType>
                <_expression>int_state == 1</_expression>
                <_value i:nil="true" />
                <_xpathSettings xmlns:d9p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
              </PropertyValue>
            </PropertyValues>
            <SelectedOptionId i:nil="true" />
            <EnableStatus>true</EnableStatus>
            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
            <RetryCount>-1</RetryCount>
            <Text>STATE Machine</Text>
            <_activityFullName>BR.Core.Base.If</_activityFullName>
          </AbstractStep>
        </Childs>
        <Id>7aa35ff1-6eb2-48dc-90f4-433027da9947</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i439">
            <PropertyName>Condition</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>!bool_exit</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i440">
            <PropertyName>Counter</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression></_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Бесконечный цикл</Text>
        <_activityFullName>BR.Core.Base.LoopWhile</_activityFullName>
      </AbstractStep>
    </Childs>
    <Id>a771a6e6-0697-48ee-b6fc-79138d5efe10</Id>
    <Parent i:nil="true" />
    <PropertyValues />
    <SelectedOptionId i:nil="true" />
    <EnableStatus>true</EnableStatus>
    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
    <RetryCount>-1</RetryCount>
    <Text></Text>
    <_activityFullName>BR.Core.Base.Container</_activityFullName>
  </Logic>
  <Name>Main.pix</Name>
  <Namespaces xmlns:d2p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <d2p1:string>System.Text.RegularExpressions</d2p1:string>
    <d2p1:string>Newtonsoft.Json</d2p1:string>
    <d2p1:string>Newtonsoft.Json.Linq</d2p1:string>
    <d2p1:string>PIX.Core.Exceptions</d2p1:string>
  </Namespaces>
  <Params>
    <Parameter z:Id="i441">
      <DefaultValueExpression>0</DefaultValueExpression>
      <Description>Количество транзакций, которое должно быть обработано за один запуск. int_transNumber==0 - без ограничений</Description>
      <Name>int_transNumber</Name>
      <TypeString>System.Int32</TypeString>
    </Parameter>
    <Parameter z:Id="i442">
      <DefaultValueExpression>false</DefaultValueExpression>
      <Description>bool_isProd==true - робот работает в продуктиве. bool_isProd==false - робот в предпродуктиве или тесте </Description>
      <Name>bool_isProd</Name>
      <TypeString>System.Boolean</TypeString>
    </Parameter>
    <Parameter z:Id="i443">
      <DefaultValueExpression>false</DefaultValueExpression>
      <Description>bool_isPredProd==true - робот работает в предпродуктиве. bool_isPredProd==false - робот в продуктиве или тесте.</Description>
      <Name>bool_isPredProd</Name>
      <TypeString>System.Boolean</TypeString>
    </Parameter>
    <Parameter z:Id="i444">
      <DefaultValueExpression>1</DefaultValueExpression>
      <Description>Макс. кол-во попыток обработки транзакции</Description>
      <Name>int_maxTransactionRetry</Name>
      <TypeString>System.Int32</TypeString>
    </Parameter>
    <Parameter z:Id="i445">
      <DefaultValueExpression>@"RivegaucheNikitaHTTP"</DefaultValueExpression>
      <Description>Название очереди</Description>
      <Name>str_queueName</Name>
      <TypeString>System.String</TypeString>
    </Parameter>
    <Parameter z:Id="i446">
      <DefaultValueExpression>false</DefaultValueExpression>
      <Description>bool_useDispatcher==true, bool_usePerformer==false - робот работает в режиме создания транзакций в целевую очередь.</Description>
      <Name>bool_useDispatcher</Name>
      <TypeString>System.Boolean</TypeString>
    </Parameter>
    <Parameter z:Id="i447">
      <DefaultValueExpression>true</DefaultValueExpression>
      <Description>bool_usePerformer==true, bool_useDispatcher==false - робот работает в режиме обработки транзакций в целевой очереди.</Description>
      <Name>bool_usePerformer</Name>
      <TypeString>System.Boolean</TypeString>
    </Parameter>
    <Parameter z:Id="i448">
      <DefaultValueExpression>0</DefaultValueExpression>
      <Description>Макс. кол-во последовательных ошибок. При значении 0 - ограничений нет.</Description>
      <Name>int_maxConsecutiveExceptions</Name>
      <TypeString>System.Int32</TypeString>
    </Parameter>
  </Params>
  <TemplateVersion xmlns:d2p1="http://schemas.datacontract.org/2004/07/System" i:nil="true" />
  <Variables xmlns:d2p1="http://schemas.datacontract.org/2004/07/BR.Logic.Params" />
  <Version i:nil="true" />
</Script>